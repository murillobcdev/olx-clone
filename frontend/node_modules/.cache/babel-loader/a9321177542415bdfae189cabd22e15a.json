{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{PageArea,SearchArea}from'./styled';import{PageContainer}from'../../components/MainComponents';import useApi from'../../helpers/MBSApi';import{Link}from'react-router-dom';import AdItem from'../../components/partials/AdItem';var Page=function Page(){var api=useApi();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stateList=_useState2[0],setStateList=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),stateLocal=_useState4[0],setStateLocal=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),categories=_useState6[0],setCategories=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),adList=_useState8[0],setAdList=_useState8[1];useEffect(function(){var getStates=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var slist;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.getStates();case 2:slist=_context.sent;setStateList(slist);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getStates(){return _ref.apply(this,arguments);};}();getStates();},[]);useEffect(function(){var getCategories=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var cats;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.getCategories();case 2:cats=_context2.sent;setCategories(cats);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getCategories(){return _ref2.apply(this,arguments);};}();getCategories();},[]);useEffect(function(){var getRecentAds=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var json;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.getAds({sort:'desc',limit:8});case 2:json=_context3.sent;setAdList(json.ads);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function getRecentAds(){return _ref3.apply(this,arguments);};}();getRecentAds();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SearchArea,null,/*#__PURE__*/React.createElement(PageContainer,null,/*#__PURE__*/React.createElement(\"div\",{className:\"searchBox\"},/*#__PURE__*/React.createElement(\"form\",{method:\"GET\",action:\"/ads\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"q\",placeholder:\"O que voc\\xEA procura?\"}),/*#__PURE__*/React.createElement(\"select\",{value:stateLocal,onChange:function onChange(e){return setStateLocal(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",null),stateList.map(function(i,k){return/*#__PURE__*/React.createElement(\"option\",{key:k,value:i._id},i.name);})),/*#__PURE__*/React.createElement(\"button\",null,\"Pesquisar\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"categoryList\"},categories.map(function(i,k){return/*#__PURE__*/React.createElement(Link,{key:k,to:\"/ads?cat=\".concat(i.slug),className:\"categoryItem\"},/*#__PURE__*/React.createElement(\"img\",{src:i.img,alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",null,i.name));})))),/*#__PURE__*/React.createElement(PageContainer,null,/*#__PURE__*/React.createElement(PageArea,null,/*#__PURE__*/React.createElement(\"h2\",null,\"An\\xFAncios Recentes\"),/*#__PURE__*/React.createElement(\"div\",{className:\"list\"},adList.map(function(i,k){return/*#__PURE__*/React.createElement(AdItem,{key:k,data:i});})),/*#__PURE__*/React.createElement(Link,{to:\"/ads\",className:\"seeAllLink\"},\"Ver todos\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",null,\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas gravida ut nunc sed accumsan. Nam sed odio bibendum, porta nulla ac, convallis velit.\"),/*#__PURE__*/React.createElement(\"hr\",null))));};export default Page;","map":{"version":3,"sources":["D:/ProgramaçãoB7Web/Projetos/olx-clone/frontend/src/pages/Home/index.js"],"names":["React","useState","useEffect","PageArea","SearchArea","PageContainer","useApi","Link","AdItem","Page","api","stateList","setStateList","stateLocal","setStateLocal","categories","setCategories","adList","setAdList","getStates","slist","getCategories","cats","getRecentAds","getAds","sort","limit","json","ads","e","target","value","map","i","k","_id","name","slug","img"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { PageArea, SearchArea } from './styled';\r\nimport { PageContainer } from '../../components/MainComponents';\r\nimport useApi from '../../helpers/MBSApi';\r\nimport { Link } from 'react-router-dom';\r\nimport AdItem from '../../components/partials/AdItem';\r\n\r\n\r\nconst Page = () => {\r\n\r\n    const api = useApi();\r\n\r\n    const [stateList, setStateList] = useState([]);\r\n    const [stateLocal, setStateLocal] = useState();\r\n    const [categories, setCategories] = useState([]);\r\n    const [adList, setAdList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const getStates = async () => {\r\n            const slist = await api.getStates();\r\n            setStateList(slist);\r\n        }\r\n        getStates();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const getCategories = async () => {\r\n            const cats = await api.getCategories();\r\n            setCategories(cats);\r\n        }\r\n        getCategories();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const getRecentAds = async () => {\r\n            const json = await api.getAds({\r\n                sort: 'desc',\r\n                limit: 8\r\n            });\r\n            setAdList(json.ads);\r\n        }\r\n        getRecentAds();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <SearchArea>\r\n                <PageContainer>\r\n                    <div className=\"searchBox\">\r\n                        <form method=\"GET\" action=\"/ads\">\r\n                            <input type=\"text\" name=\"q\" placeholder=\"O que você procura?\" />\r\n                            <select value={stateLocal} onChange={e => setStateLocal(e.target.value)}>\r\n                                <option></option>\r\n                                {stateList.map((i, k) =>\r\n                                    <option key={k} value={i._id}>{i.name}</option>\r\n                                )}\r\n                            </select>\r\n                            <button>Pesquisar</button>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"categoryList\">\r\n                        {categories.map((i, k) =>\r\n                            <Link key={k} to={`/ads?cat=${i.slug}`} className=\"categoryItem\">\r\n                                <img src={i.img} alt=\"\" />\r\n                                <span>{i.name}</span>\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n                </PageContainer>\r\n            </SearchArea>\r\n            <PageContainer>\r\n                <PageArea>\r\n                    <h2>Anúncios Recentes</h2>\r\n                    <div className=\"list\">\r\n                        {adList.map((i, k) =>\r\n                            <AdItem key={k} data={i} />\r\n                        )}\r\n                    </div>\r\n                    <Link to=\"/ads\" className=\"seeAllLink\">\r\n                        Ver todos\r\n                    </Link>\r\n                    <hr />\r\n                    <div>\r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas gravida ut nunc sed accumsan.\r\n                        Nam sed odio bibendum, porta nulla ac, convallis velit.\r\n                    </div>\r\n                    <hr />\r\n                </PageArea>\r\n            </PageContainer>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Page;"]},"metadata":{},"sourceType":"module"}