{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{PageArea,Fake,OthersArea,BreadCrumb}from'./styled';import{PageContainer}from'../../components/MainComponents';import{useParams}from'react-router-dom';import useApi from'../../helpers/MBSApi';import{Slide}from\"react-slideshow-image\";import AdItem from'../../components/partials/AdItem';import\"react-slideshow-image/dist/styles.css\";import{Link}from'react-router-dom';var Page=function Page(){var api=useApi();var _useParams=useParams(),id=_useParams.id;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),adInfo=_useState4[0],setAdInfo=_useState4[1];useEffect(function(){var getAdInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.getAd(id,true);case 2:json=_context.sent;setAdInfo(json);setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getAdInfo(_x){return _ref.apply(this,arguments);};}();getAdInfo(id);},[id]);var formatDate=function formatDate(date){var cDate=new Date(date);var months=['janeiro','fevereiro','março','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro'];var cDay=cDate.getDate();var cMonth=cDate.getMonth();var cYear=cDate.getFullYear();return\"\".concat(cDay,\" de \").concat(months[cMonth],\" de \").concat(cYear);};return/*#__PURE__*/React.createElement(PageContainer,null,adInfo.category&&/*#__PURE__*/React.createElement(BreadCrumb,null,\"Voc\\xEA est\\xE1 aqui:\",/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Home\"),\"/\",/*#__PURE__*/React.createElement(Link,{to:\"/ads?state=\".concat(adInfo.stateName)},adInfo.stateName),\"/\",/*#__PURE__*/React.createElement(Link,{to:\"/ads?state=\".concat(adInfo.stateName,\"&cat=\").concat(adInfo.category.slug)},adInfo.category.name),\"/\",adInfo.title),/*#__PURE__*/React.createElement(PageArea,null,/*#__PURE__*/React.createElement(\"div\",{className:\"leftSide\"},/*#__PURE__*/React.createElement(\"div\",{className:\"box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"adImage\"},loading&&/*#__PURE__*/React.createElement(Fake,{height:300}),adInfo.images&&/*#__PURE__*/React.createElement(Slide,null,adInfo.images.map(function(img,k){return/*#__PURE__*/React.createElement(\"div\",{key:k,className:\"each-slide\"},/*#__PURE__*/React.createElement(\"img\",{src:img,alt:\"\"}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"infoAd\"},/*#__PURE__*/React.createElement(\"div\",{className:\"adName\"},loading&&/*#__PURE__*/React.createElement(Fake,{height:20}),adInfo.title&&/*#__PURE__*/React.createElement(\"h2\",null,adInfo.title),adInfo.dateCreated&&/*#__PURE__*/React.createElement(\"small\",null,\"Criado em \",formatDate(adInfo.dateCreated))),/*#__PURE__*/React.createElement(\"div\",{className:\"adDesc\"},loading&&/*#__PURE__*/React.createElement(Fake,{height:100}),adInfo.description,/*#__PURE__*/React.createElement(\"hr\",null),adInfo.views&&/*#__PURE__*/React.createElement(\"small\",null,\"Visualiza\\xE7\\xF5es: \",adInfo.views))))),/*#__PURE__*/React.createElement(\"div\",{className:\"rightSide\"},/*#__PURE__*/React.createElement(\"div\",{className:\"box -padding\"},loading&&/*#__PURE__*/React.createElement(Fake,{height:20}),adInfo.priceNegotiable&&\"Preço negociável\",!adInfo.priceNegotiable&&adInfo.price&&/*#__PURE__*/React.createElement(\"div\",{className:\"price\"},\"Pre\\xE7o: \",/*#__PURE__*/React.createElement(\"span\",null,\"R$ \",adInfo.price))),loading&&/*#__PURE__*/React.createElement(Fake,{height:50}),adInfo.userInfo&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"a\",{href:\"mailto:\".concat(adInfo.userInfo.email),target:\"_blank\",rel:\"noopener noreferrer\",className:\"contactSeller\"},\"Fale com o vendedor\"),/*#__PURE__*/React.createElement(\"div\",{className:\"createdBy box -padding\"},/*#__PURE__*/React.createElement(\"span\",null,\"Criado por: \",/*#__PURE__*/React.createElement(\"strong\",null,adInfo.userInfo.name)),/*#__PURE__*/React.createElement(\"small\",null,\"E-mail: \",adInfo.userInfo.email),/*#__PURE__*/React.createElement(\"small\",null,\"Estado: \",adInfo.stateName))))),/*#__PURE__*/React.createElement(OthersArea,null,adInfo.others&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Outras ofertas do vendedor\"),/*#__PURE__*/React.createElement(\"div\",{className:\"list\"},adInfo.others.map(function(i,k){return/*#__PURE__*/React.createElement(AdItem,{key:k,data:i});})))));};export default Page;","map":{"version":3,"sources":["D:/ProgramaçãoB7Web/Projetos/olx-clone/frontend/src/pages/AdPage/index.js"],"names":["React","useState","useEffect","PageArea","Fake","OthersArea","BreadCrumb","PageContainer","useParams","useApi","Slide","AdItem","Link","Page","api","id","loading","setLoading","adInfo","setAdInfo","getAdInfo","getAd","json","formatDate","date","cDate","Date","months","cDay","getDate","cMonth","getMonth","cYear","getFullYear","category","stateName","slug","name","title","images","map","img","k","dateCreated","description","views","priceNegotiable","price","userInfo","email","others","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { PageArea, Fake, OthersArea, BreadCrumb } from './styled';\r\nimport { PageContainer } from '../../components/MainComponents';\r\nimport { useParams } from 'react-router-dom';\r\nimport useApi from '../../helpers/MBSApi';\r\nimport { Slide } from \"react-slideshow-image\";\r\nimport AdItem from '../../components/partials/AdItem';\r\nimport \"react-slideshow-image/dist/styles.css\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Page = () => {\r\n\r\n    const api = useApi();\r\n    const { id } = useParams();\r\n    const [loading, setLoading] = useState(true);\r\n    const [adInfo, setAdInfo] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        const getAdInfo = async (id) => {\r\n\r\n            const json = await api.getAd(id, true);\r\n\r\n            setAdInfo(json);\r\n            setLoading(false);\r\n        }\r\n        getAdInfo(id);\r\n    }, [id]);\r\n\r\n    const formatDate = (date) => {\r\n        let cDate = new Date(date);\r\n        let months = [\r\n            'janeiro', 'fevereiro', 'março', 'abril', 'maio', 'junho', 'julho', 'agosto', 'setembro', 'outubro', 'novembro', 'dezembro'\r\n        ];\r\n        let cDay = cDate.getDate();\r\n        let cMonth = cDate.getMonth();\r\n        let cYear = cDate.getFullYear();\r\n\r\n        return `${cDay} de ${months[cMonth]} de ${cYear}`;\r\n    }\r\n\r\n    return (\r\n        <PageContainer>\r\n            {adInfo.category &&\r\n                <BreadCrumb>\r\n                    Você está aqui:\r\n                    <Link to=\"/\">Home</Link>\r\n                    /\r\n                    <Link to={`/ads?state=${adInfo.stateName}`}>{adInfo.stateName}</Link>\r\n                    /\r\n                    <Link to={`/ads?state=${adInfo.stateName}&cat=${adInfo.category.slug}`}>{adInfo.category.name}</Link>\r\n                    /\r\n                    {adInfo.title}\r\n                </BreadCrumb>\r\n            }\r\n            <PageArea>\r\n                <div className=\"leftSide\">\r\n                    <div className=\"box\">\r\n                        <div className=\"adImage\">\r\n                            {loading && <Fake height={300} />}\r\n                            {adInfo.images &&\r\n                                <Slide>\r\n                                    {adInfo.images.map((img, k) =>\r\n                                        <div key={k} className=\"each-slide\">\r\n                                            <img src={img} alt=\"\" />\r\n                                        </div>\r\n                                    )}\r\n                                </Slide>\r\n                            }\r\n                        </div>\r\n                        <div className=\"infoAd\">\r\n                            <div className=\"adName\">\r\n                                {loading && <Fake height={20} />}\r\n                                {adInfo.title &&\r\n                                    <h2>{adInfo.title}</h2>\r\n                                }\r\n                                {adInfo.dateCreated &&\r\n                                    <small>Criado em {formatDate(adInfo.dateCreated)}</small>\r\n                                }\r\n                            </div>\r\n                            <div className=\"adDesc\">\r\n                                {loading && <Fake height={100} />}\r\n                                {adInfo.description}\r\n                                <hr />\r\n                                {adInfo.views &&\r\n                                    <small>Visualizações: {adInfo.views}</small>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"rightSide\">\r\n                    <div className=\"box -padding\">\r\n                        {loading && <Fake height={20} />}\r\n                        {adInfo.priceNegotiable &&\r\n                            \"Preço negociável\"\r\n                        }\r\n                        {!adInfo.priceNegotiable && adInfo.price &&\r\n                            <div className=\"price\">\r\n                                Preço: <span>R$ {adInfo.price}</span>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    {loading && <Fake height={50} />}\r\n                    {adInfo.userInfo &&\r\n                        <>\r\n                            <a href={`mailto:${adInfo.userInfo.email}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"contactSeller\" >Fale com o vendedor</a>\r\n                            <div className=\"createdBy box -padding\">\r\n                                <span>Criado por: <strong>{adInfo.userInfo.name}</strong></span>\r\n                                <small>E-mail: {adInfo.userInfo.email}</small>\r\n                                <small>Estado: {adInfo.stateName}</small>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </div>\r\n            </PageArea>\r\n            <OthersArea>\r\n                {adInfo.others &&\r\n                    <>\r\n                        <h2>Outras ofertas do vendedor</h2>\r\n                        <div className=\"list\">\r\n                            {adInfo.others.map((i, k) =>\r\n                                <AdItem key={k} data={i}/>\r\n                            )}\r\n                        </div>\r\n                    </>\r\n                }\r\n            </OthersArea>\r\n        </PageContainer>\r\n    );\r\n}\r\n\r\nexport default Page;"]},"metadata":{},"sourceType":"module"}