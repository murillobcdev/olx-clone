{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{PageArea}from'./styled';import{PageContainer,PageTitle,ErrorMessage}from'../../components/MainComponents';import useApi from'../../helpers/MBSApi';import{useState}from'react';import{doLogin}from'../../helpers/authHandler';// import { Link } from 'react-router-dom';\nvar Page=function Page(){var api=useApi();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),rememberPass=_useState6[0],setRememberPass=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),disabled=_useState8[0],setDisabled=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setDisabled(true);setError('');_context.next=5;return api.login(email,password);case 5:json=_context.sent;if(json.error){setError(json.error);}else{doLogin(json.token,rememberPass);window.location.href='/';}setDisabled(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(PageContainer,null,/*#__PURE__*/React.createElement(PageTitle,null,\"Login\"),/*#__PURE__*/React.createElement(PageArea,null,error&&/*#__PURE__*/React.createElement(ErrorMessage,null,error),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"label\",{className:\"area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"area--title\"},\"E-mail:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"area--input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",disabled:disabled,value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true}))),/*#__PURE__*/React.createElement(\"label\",{className:\"area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"area--title\"},\"Senha:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"area--input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",disabled:disabled,value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true}))),/*#__PURE__*/React.createElement(\"label\",{className:\"area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"area--title\"},\"Lembrar senha?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"area--input\"},/*#__PURE__*/React.createElement(\"input\",{className:\"checkbox\",type:\"checkbox\",disabled:disabled,value:rememberPass,onClick:function onClick(e){return setRememberPass(!rememberPass);}}))),/*#__PURE__*/React.createElement(\"label\",{className:\"area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"area--title\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"area--input\"},/*#__PURE__*/React.createElement(\"button\",{disabled:disabled},\"Login\"))))));};export default Page;","map":{"version":3,"sources":["D:/ProgramaçãoB7Web/Projetos/olx-clone/frontend/src/pages/SignIn/index.js"],"names":["React","PageArea","PageContainer","PageTitle","ErrorMessage","useApi","useState","doLogin","Page","api","email","setEmail","password","setPassword","rememberPass","setRememberPass","disabled","setDisabled","error","setError","handleSubmit","e","preventDefault","login","json","token","window","location","href","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { PageArea } from './styled';\r\nimport { PageContainer, PageTitle, ErrorMessage } from '../../components/MainComponents';\r\nimport useApi from '../../helpers/MBSApi';\r\nimport { useState } from 'react';\r\nimport { doLogin } from '../../helpers/authHandler';\r\n\r\n// import { Link } from 'react-router-dom';\r\n\r\nconst Page = () => {\r\n\r\n    const api = useApi();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [rememberPass, setRememberPass] = useState(false);\r\n    const [disabled, setDisabled] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setDisabled(true);\r\n        setError('');\r\n\r\n        const json = await api.login(email, password);\r\n\r\n        if (json.error) {\r\n            setError(json.error);\r\n        } else {\r\n            doLogin(json.token, rememberPass);\r\n            window.location.href = '/';\r\n        }\r\n        setDisabled(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <PageContainer>\r\n            <PageTitle>\r\n                Login\r\n            </PageTitle>\r\n            <PageArea>\r\n\r\n                {error &&\r\n                    <ErrorMessage>{error}</ErrorMessage>\r\n                }\r\n\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    <label className=\"area\">\r\n                        <div className=\"area--title\">\r\n                            E-mail:\r\n                        </div>\r\n                        <div className=\"area--input\">\r\n                            <input\r\n                                type=\"email\"\r\n                                disabled={disabled}\r\n                                value={email}\r\n                                onChange={e => setEmail(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </label>\r\n                    <label className=\"area\">\r\n                        <div className=\"area--title\">\r\n                            Senha:\r\n                        </div>\r\n                        <div className=\"area--input\">\r\n                            <input\r\n                                type=\"password\"\r\n                                disabled={disabled}\r\n                                value={password}\r\n                                onChange={e => setPassword(e.target.value)}\r\n                                required\r\n\r\n                            />\r\n                        </div>\r\n                    </label>\r\n                    <label className=\"area\">\r\n                        <div className=\"area--title\">\r\n                            Lembrar senha?\r\n                        </div>\r\n                        <div className=\"area--input\">\r\n                            <input className=\"checkbox\"\r\n                                type=\"checkbox\"\r\n                                disabled={disabled}\r\n                                value={rememberPass}\r\n                                onClick={e => setRememberPass(!rememberPass)}\r\n                            />\r\n                        </div>\r\n                    </label>\r\n                    <label className=\"area\">\r\n                        <div className=\"area--title\">\r\n\r\n                        </div>\r\n                        <div className=\"area--input\">\r\n                            <button disabled={disabled} >Login</button>\r\n                        </div>\r\n                    </label>\r\n                </form>\r\n            </PageArea>\r\n        </PageContainer>\r\n    );\r\n}\r\n\r\nexport default Page;"]},"metadata":{},"sourceType":"module"}