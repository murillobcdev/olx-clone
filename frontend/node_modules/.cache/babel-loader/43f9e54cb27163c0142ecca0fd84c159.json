{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Programa\\xE7\\xE3oB7Web\\\\Projetos\\\\olx-clone\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{PageArea}from'./styled';import{PageContainer}from'../../components/MainComponents';import useApi from'../../helpers/MBSApi';import{useLocation,useHistory}from'react-router-dom';import AdItem from'../../components/partials/AdItem';var timer;var Page=function Page(){var api=useApi();var history=useHistory();var useQueryString=function useQueryString(){return new URLSearchParams(useLocation().search);};var query=useQueryString();var _useState=useState(query.get('q')!=null?query.get('q'):''),_useState2=_slicedToArray(_useState,2),q=_useState2[0],setQ=_useState2[1];var _useState3=useState(query.get('cat')!=null?query.get('cat'):''),_useState4=_slicedToArray(_useState3,2),cat=_useState4[0],setCat=_useState4[1];var _useState5=useState(query.get('estado')!=null?query.get('estado'):''),_useState6=_slicedToArray(_useState5,2),estado=_useState6[0],setEstado=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),stateList=_useState8[0],setStateList=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),categories=_useState10[0],setCategories=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),adList=_useState12[0],setAdList=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),adsTotal=_useState14[0],setAdsTotal=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),pageCount=_useState16[0],setPageCount=_useState16[1];var _useState17=useState(1),_useState18=_slicedToArray(_useState17,2),resultOpacity=_useState18[0],setResultOpacity=_useState18[1];var _useState19=useState(1),_useState20=_slicedToArray(_useState19,2),currentPage=_useState20[0],setCurrentPage=_useState20[1];var _useState21=useState('Carregando..'),_useState22=_slicedToArray(_useState21,2),warningMessage=_useState22[0],setWarningMessage=_useState22[1];var _useState23=useState(true),_useState24=_slicedToArray(_useState23,2),loading=_useState24[0],setLoading=_useState24[1];var getAdsList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var offset,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);offset=(currentPage-1)*9;_context.next=4;return api.getAds({sort:'desc',limit:9,q:q,cat:cat,estado:estado,offset:offset});case 4:json=_context.sent;setAdList(json.ads);setAdsTotal(json.total);setResultOpacity(1);setLoading(false);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getAdsList(){return _ref.apply(this,arguments);};}();useEffect(function(){setResultOpacity(0.3);getAdsList();},[currentPage]);useEffect(function(){if(adList.length>0){setPageCount(Math.ceil(adsTotal/adList.length));}else{setPageCount(0);}},[adsTotal]);useEffect(function(){var getStates=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var slist;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.getStates();case 2:slist=_context2.sent;setStateList(slist);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getStates(){return _ref2.apply(this,arguments);};}();getStates();},[]);useEffect(function(){var getCategories=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var cats;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.getCategories();case 2:cats=_context3.sent;setCategories(cats);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function getCategories(){return _ref3.apply(this,arguments);};}();getCategories();},[]);useEffect(function(){var queryString=[];if(q){queryString.push(\"q=\".concat(q));}if(cat){queryString.push(\"cat=\".concat(cat));}if(estado){queryString.push(\"state=\".concat(estado));}history.replace({search:\"?\".concat(queryString.join('&'))});if(timer){clearTimeout(timer);}timer=setTimeout(getAdsList,2000);setResultOpacity(0.3);setCurrentPage(1);},[q,cat,estado]);var pagination=[];for(var i=1;i<=pageCount;i++){pagination.push(i);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PageContainer,null,/*#__PURE__*/React.createElement(PageArea,null,/*#__PURE__*/React.createElement(\"div\",{className:\"leftSide\"},/*#__PURE__*/React.createElement(\"form\",{method:\"GET\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"q\",placeholder:\"O que voc\\xEA procura?\",value:q,onChange:function onChange(e){return setQ(e.target.value);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"filterName\"},\"Estado:\"),/*#__PURE__*/React.createElement(\"select\",{name:\"state\",value:estado,onChange:function onChange(e){return setEstado(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",null),stateList.map(function(i,k){return/*#__PURE__*/React.createElement(\"option\",{key:k,value:i.name},i.name);})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterName\"},\"Categorias:\"),/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:cat===''?'categoryItem active ':'categoryItem',onClick:function onClick(){return setCat('');}},/*#__PURE__*/React.createElement(\"div\",{className:\"img\"},\"\\u30C4\"),/*#__PURE__*/React.createElement(\"span\",null,\"Todas\")),categories.map(function(i,k){return/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return setCat(i.slug);},key:k,className:cat===i.slug?'categoryItem active ':'categoryItem'},/*#__PURE__*/React.createElement(\"img\",{src:i.img,alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",null,i.name));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"rightSide\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Resultados\"),loading&&adList.length===0&&/*#__PURE__*/React.createElement(\"div\",{className:\"listWarning\"},warningMessage),!loading&&adList.length===0&&/*#__PURE__*/React.createElement(\"div\",{className:\"listWarning\"},\"N\\xE3o encontramos resultados.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"list\",style:{opacity:resultOpacity}},adList.map(function(i,k){return/*#__PURE__*/React.createElement(AdItem,{key:k,data:i});})),/*#__PURE__*/React.createElement(\"div\",{className:\"pagination\"},pagination.map(function(i,k){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return setCurrentPage(i);},className:i===currentPage?'pageItem active':'pageItem'},i);}))))));};export default Page;","map":{"version":3,"sources":["D:/ProgramaçãoB7Web/Projetos/olx-clone/frontend/src/pages/Ads/index.js"],"names":["React","useState","useEffect","PageArea","PageContainer","useApi","useLocation","useHistory","AdItem","timer","Page","api","history","useQueryString","URLSearchParams","search","query","get","q","setQ","cat","setCat","estado","setEstado","stateList","setStateList","categories","setCategories","adList","setAdList","adsTotal","setAdsTotal","pageCount","setPageCount","resultOpacity","setResultOpacity","currentPage","setCurrentPage","warningMessage","setWarningMessage","loading","setLoading","getAdsList","offset","getAds","sort","limit","json","ads","total","length","Math","ceil","getStates","slist","getCategories","cats","queryString","push","replace","join","clearTimeout","setTimeout","pagination","i","e","target","value","map","k","name","slug","img","opacity"],"mappings":"4hBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,KAAyB,UAAzB,CACA,OAASC,aAAT,KAA8B,iCAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,WAAT,CAAsBC,UAAtB,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,MAAP,KAAmB,kCAAnB,CAGA,GAAIC,CAAAA,KAAJ,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CAEf,GAAMC,CAAAA,GAAG,CAAGN,MAAM,EAAlB,CACA,GAAMO,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CAGA,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzB,MAAO,IAAIC,CAAAA,eAAJ,CAAoBR,WAAW,GAAGS,MAAlC,CAAP,CACH,CAFD,CAIA,GAAMC,CAAAA,KAAK,CAAGH,cAAc,EAA5B,CAEA,cAAkBZ,QAAQ,CACtBe,KAAK,CAACC,GAAN,CAAU,GAAV,GAAkB,IAAlB,CAAyBD,KAAK,CAACC,GAAN,CAAU,GAAV,CAAzB,CAA0C,EADpB,CAA1B,wCAAOC,CAAP,eAAUC,IAAV,eAIA,eAAsBlB,QAAQ,CAC1Be,KAAK,CAACC,GAAN,CAAU,KAAV,GAAoB,IAApB,CAA2BD,KAAK,CAACC,GAAN,CAAU,KAAV,CAA3B,CAA8C,EADpB,CAA9B,yCAAOG,GAAP,eAAYC,MAAZ,eAIA,eAA4BpB,QAAQ,CAChCe,KAAK,CAACC,GAAN,CAAU,QAAV,GAAuB,IAAvB,CAA8BD,KAAK,CAACC,GAAN,CAAU,QAAV,CAA9B,CAAoD,EADpB,CAApC,yCAAOK,MAAP,eAAeC,SAAf,eAIA,eAAkCtB,QAAQ,CAAC,EAAD,CAA1C,yCAAOuB,SAAP,eAAkBC,YAAlB,eACA,eAAoCxB,QAAQ,CAAC,EAAD,CAA5C,0CAAOyB,UAAP,gBAAmBC,aAAnB,gBACA,gBAA4B1B,QAAQ,CAAC,EAAD,CAApC,2CAAO2B,MAAP,gBAAeC,SAAf,gBACA,gBAAgC5B,QAAQ,CAAC,CAAD,CAAxC,2CAAO6B,QAAP,gBAAiBC,WAAjB,gBACA,gBAAkC9B,QAAQ,CAAC,CAAD,CAA1C,2CAAO+B,SAAP,gBAAkBC,YAAlB,gBACA,gBAA0ChC,QAAQ,CAAC,CAAD,CAAlD,2CAAOiC,aAAP,gBAAsBC,gBAAtB,gBACA,gBAAsClC,QAAQ,CAAC,CAAD,CAA9C,2CAAOmC,WAAP,gBAAoBC,cAApB,gBACA,gBAA4CpC,QAAQ,CAAC,cAAD,CAApD,2CAAOqC,cAAP,gBAAuBC,iBAAvB,gBACA,gBAA8BtC,QAAQ,CAAC,IAAD,CAAtC,2CAAOuC,OAAP,gBAAgBC,UAAhB,gBAEA,GAAMC,CAAAA,UAAU,0FAAG,mJACfD,UAAU,CAAC,IAAD,CAAV,CAEIE,MAHW,CAGF,CAACP,WAAW,CAAG,CAAf,EAAoB,CAHlB,uBAKIzB,CAAAA,GAAG,CAACiC,MAAJ,CAAW,CAC1BC,IAAI,CAAE,MADoB,CAE1BC,KAAK,CAAE,CAFmB,CAG1B5B,CAAC,CAADA,CAH0B,CAGvBE,GAAG,CAAHA,GAHuB,CAGlBE,MAAM,CAANA,MAHkB,CAI1BqB,MAAM,CAANA,MAJ0B,CAAX,CALJ,QAKTI,IALS,eAYflB,SAAS,CAACkB,IAAI,CAACC,GAAN,CAAT,CACAjB,WAAW,CAACgB,IAAI,CAACE,KAAN,CAAX,CACAd,gBAAgB,CAAC,CAAD,CAAhB,CACAM,UAAU,CAAC,KAAD,CAAV,CAfe,sDAAH,kBAAVC,CAAAA,UAAU,0CAAhB,CAkBAxC,SAAS,CAAC,UAAM,CACZiC,gBAAgB,CAAC,GAAD,CAAhB,CACAO,UAAU,GACb,CAHQ,CAGN,CAACN,WAAD,CAHM,CAAT,CAKAlC,SAAS,CAAC,UAAM,CACZ,GAAI0B,MAAM,CAACsB,MAAP,CAAgB,CAApB,CAAuB,CACnBjB,YAAY,CACRkB,IAAI,CAACC,IAAL,CAAUtB,QAAQ,CAAGF,MAAM,CAACsB,MAA5B,CADQ,CAAZ,CAGH,CAJD,IAIO,CACHjB,YAAY,CAAC,CAAD,CAAZ,CACH,CAEJ,CATQ,CASN,CAACH,QAAD,CATM,CAAT,CAWA5B,SAAS,CAAC,UAAM,CACZ,GAAMmD,CAAAA,SAAS,2FAAG,yKACM1C,CAAAA,GAAG,CAAC0C,SAAJ,EADN,QACRC,KADQ,gBAEd7B,YAAY,CAAC6B,KAAD,CAAZ,CAFc,wDAAH,kBAATD,CAAAA,SAAS,2CAAf,CAIAA,SAAS,GACZ,CANQ,CAMN,EANM,CAAT,CAQAnD,SAAS,CAAC,UAAM,CACZ,GAAMqD,CAAAA,aAAa,2FAAG,wKACC5C,CAAAA,GAAG,CAAC4C,aAAJ,EADD,QACZC,IADY,gBAElB7B,aAAa,CAAC6B,IAAD,CAAb,CAFkB,wDAAH,kBAAbD,CAAAA,aAAa,2CAAnB,CAIAA,aAAa,GAChB,CANQ,CAMN,EANM,CAAT,CAQArD,SAAS,CAAC,UAAM,CACZ,GAAIuD,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAIvC,CAAJ,CAAO,CACHuC,WAAW,CAACC,IAAZ,aAAsBxC,CAAtB,GACH,CACD,GAAIE,GAAJ,CAAS,CACLqC,WAAW,CAACC,IAAZ,eAAwBtC,GAAxB,GACH,CACD,GAAIE,MAAJ,CAAY,CACRmC,WAAW,CAACC,IAAZ,iBAA0BpC,MAA1B,GACH,CAEDV,OAAO,CAAC+C,OAAR,CAAgB,CACZ5C,MAAM,YAAM0C,WAAW,CAACG,IAAZ,CAAiB,GAAjB,CAAN,CADM,CAAhB,EAIA,GAAInD,KAAJ,CAAW,CACPoD,YAAY,CAACpD,KAAD,CAAZ,CACH,CAEDA,KAAK,CAAGqD,UAAU,CAACpB,UAAD,CAAa,IAAb,CAAlB,CACAP,gBAAgB,CAAC,GAAD,CAAhB,CACAE,cAAc,CAAC,CAAD,CAAd,CACH,CAvBQ,CAuBN,CAACnB,CAAD,CAAIE,GAAJ,CAASE,MAAT,CAvBM,CAAT,CAyBA,GAAIyC,CAAAA,UAAU,CAAG,EAAjB,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIhC,SAArB,CAAgCgC,CAAC,EAAjC,CAAqC,CACjCD,UAAU,CAACL,IAAX,CAAgBM,CAAhB,EACH,CAED,mBACI,qDACI,oBAAC,aAAD,mBACI,oBAAC,QAAD,mBACI,2BAAK,SAAS,CAAC,UAAf,eACI,4BAAM,MAAM,CAAC,KAAb,eACI,6BACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,GAFT,CAGI,WAAW,CAAC,wBAHhB,CAII,KAAK,CAAE9C,CAJX,CAKI,QAAQ,CAAE,kBAAA+C,CAAC,QAAI9C,CAAAA,IAAI,CAAC8C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,EALf,EADJ,cASI,2BAAK,SAAS,CAAC,YAAf,YATJ,cAUI,8BACI,IAAI,CAAC,OADT,CAEI,KAAK,CAAE7C,MAFX,CAGI,QAAQ,CAAE,kBAAA2C,CAAC,QAAI1C,CAAAA,SAAS,CAAC0C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAHf,eAKI,kCALJ,CAMK3C,SAAS,CAAC4C,GAAV,CAAc,SAACJ,CAAD,CAAIK,CAAJ,qBACX,8BAAQ,GAAG,CAAEA,CAAb,CAAgB,KAAK,CAAEL,CAAC,CAACM,IAAzB,EAAgCN,CAAC,CAACM,IAAlC,CADW,EAAd,CANL,CAVJ,cAqBI,2BAAK,SAAS,CAAC,YAAf,gBArBJ,cAsBI,2CACI,0BACI,SAAS,CAAElD,GAAG,GAAK,EAAR,CAAa,sBAAb,CAAsC,cADrD,CAEI,OAAO,CAAE,yBAAMC,CAAAA,MAAM,CAAC,EAAD,CAAZ,EAFb,eAGI,2BAAK,SAAS,CAAC,KAAf,WAHJ,cAII,wCAJJ,CADJ,CAOKK,UAAU,CAAC0C,GAAX,CAAe,SAACJ,CAAD,CAAIK,CAAJ,qBACZ,0BACI,OAAO,CAAE,yBAAMhD,CAAAA,MAAM,CAAC2C,CAAC,CAACO,IAAH,CAAZ,EADb,CAEI,GAAG,CAAEF,CAFT,CAGI,SAAS,CAAEjD,GAAG,GAAK4C,CAAC,CAACO,IAAV,CAAiB,sBAAjB,CAA0C,cAHzD,eAKI,2BAAK,GAAG,CAAEP,CAAC,CAACQ,GAAZ,CAAiB,GAAG,CAAC,EAArB,EALJ,cAMI,gCAAOR,CAAC,CAACM,IAAT,CANJ,CADY,EAAf,CAPL,CAtBJ,CADJ,CADJ,cA6CI,2BAAK,SAAS,CAAC,WAAf,eACI,2CADJ,CAGK9B,OAAO,EAAIZ,MAAM,CAACsB,MAAP,GAAkB,CAA7B,eACG,2BAAK,SAAS,CAAC,aAAf,EACKZ,cADL,CAJR,CAQK,CAACE,OAAD,EAAYZ,MAAM,CAACsB,MAAP,GAAkB,CAA9B,eACG,2BAAK,SAAS,CAAC,aAAf,mCATR,cAcI,2BAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAAEuB,OAAO,CAAEvC,aAAX,CAA7B,EACKN,MAAM,CAACwC,GAAP,CAAW,SAACJ,CAAD,CAAIK,CAAJ,qBACR,oBAAC,MAAD,EAAQ,GAAG,CAAEA,CAAb,CAAgB,IAAI,CAAEL,CAAtB,EADQ,EAAX,CADL,CAdJ,cAoBI,2BAAK,SAAS,CAAC,YAAf,EACKD,UAAU,CAACK,GAAX,CAAe,SAACJ,CAAD,CAAIK,CAAJ,qBACZ,2BAAK,OAAO,CAAE,yBAAMhC,CAAAA,cAAc,CAAC2B,CAAD,CAApB,EAAd,CACI,SAAS,CAAEA,CAAC,GAAK5B,WAAN,CAAoB,iBAApB,CAAwC,UADvD,EAEK4B,CAFL,CADY,EAAf,CADL,CApBJ,CA7CJ,CADJ,CADJ,CADJ,CAkFH,CApMD,CAqMA,cAAetD,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { PageArea } from './styled';\r\nimport { PageContainer } from '../../components/MainComponents';\r\nimport useApi from '../../helpers/MBSApi';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport AdItem from '../../components/partials/AdItem';\r\n\r\n\r\nlet timer;\r\n\r\nconst Page = () => {\r\n\r\n    const api = useApi();\r\n    const history = useHistory();\r\n\r\n\r\n    const useQueryString = () => {\r\n        return new URLSearchParams(useLocation().search);\r\n    }\r\n\r\n    const query = useQueryString();\r\n\r\n    const [q, setQ] = useState(\r\n        query.get('q') != null ? query.get('q') : ''\r\n    );\r\n\r\n    const [cat, setCat] = useState(\r\n        query.get('cat') != null ? query.get('cat') : ''\r\n    );\r\n\r\n    const [estado, setEstado] = useState(\r\n        query.get('estado') != null ? query.get('estado') : ''\r\n    );\r\n\r\n    const [stateList, setStateList] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [adList, setAdList] = useState([]);\r\n    const [adsTotal, setAdsTotal] = useState(0);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [resultOpacity, setResultOpacity] = useState(1);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [warningMessage, setWarningMessage] = useState('Carregando..');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const getAdsList = async () => {\r\n        setLoading(true);\r\n\r\n        let offset = (currentPage - 1) * 9;\r\n\r\n        const json = await api.getAds({\r\n            sort: 'desc',\r\n            limit: 9,\r\n            q, cat, estado,\r\n            offset\r\n        });\r\n        \r\n        setAdList(json.ads);\r\n        setAdsTotal(json.total);\r\n        setResultOpacity(1);\r\n        setLoading(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setResultOpacity(0.3);\r\n        getAdsList();\r\n    }, [currentPage]);\r\n\r\n    useEffect(() => {\r\n        if (adList.length > 0) {\r\n            setPageCount(\r\n                Math.ceil(adsTotal / adList.length)\r\n            );\r\n        } else {\r\n            setPageCount(0);\r\n        }\r\n\r\n    }, [adsTotal]);\r\n\r\n    useEffect(() => {\r\n        const getStates = async () => {\r\n            const slist = await api.getStates();\r\n            setStateList(slist);\r\n        }\r\n        getStates();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const getCategories = async () => {\r\n            const cats = await api.getCategories();\r\n            setCategories(cats);\r\n        }\r\n        getCategories();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let queryString = [];\r\n        if (q) {\r\n            queryString.push(`q=${q}`);\r\n        }\r\n        if (cat) {\r\n            queryString.push(`cat=${cat}`);\r\n        }\r\n        if (estado) {\r\n            queryString.push(`state=${estado}`);\r\n        }\r\n\r\n        history.replace({\r\n            search: `?${queryString.join('&')}`\r\n        });\r\n\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n\r\n        timer = setTimeout(getAdsList, 2000);\r\n        setResultOpacity(0.3);\r\n        setCurrentPage(1);\r\n    }, [q, cat, estado]);\r\n\r\n    let pagination = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pagination.push(i);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <PageContainer>\r\n                <PageArea>\r\n                    <div className='leftSide'>\r\n                        <form method='GET'>\r\n                            <input\r\n                                type='text'\r\n                                name='q'\r\n                                placeholder='O que você procura?'\r\n                                value={q}\r\n                                onChange={e => setQ(e.target.value)}\r\n                            />\r\n\r\n                            <div className='filterName'>Estado:</div>\r\n                            <select\r\n                                name='state'\r\n                                value={estado}\r\n                                onChange={e => setEstado(e.target.value)}\r\n                            >\r\n                                <option></option>\r\n                                {stateList.map((i, k) =>\r\n                                    <option key={k} value={i.name}>{i.name}</option>\r\n                                )}\r\n\r\n                            </select>\r\n                            <div className='filterName'>Categorias:</div>\r\n                            <ul>\r\n                                <li\r\n                                    className={cat === '' ? 'categoryItem active ' : 'categoryItem'}\r\n                                    onClick={() => setCat('')}>\r\n                                    <div className=\"img\">ツ</div>\r\n                                    <span>Todas</span>\r\n                                </li>\r\n                                {categories.map((i, k) =>\r\n                                    <li\r\n                                        onClick={() => setCat(i.slug)}\r\n                                        key={k}\r\n                                        className={cat === i.slug ? 'categoryItem active ' : 'categoryItem'}\r\n                                    >\r\n                                        <img src={i.img} alt=\"\"></img>\r\n                                        <span>{i.name}</span>\r\n                                    </li>\r\n                                )}\r\n                            </ul>\r\n                        </form>\r\n                    </div>\r\n                    \r\n                    <div className='rightSide'>\r\n                        <h2>Resultados</h2>\r\n\r\n                        {loading && adList.length === 0 &&\r\n                            <div className=\"listWarning\">\r\n                                {warningMessage}\r\n                            </div>\r\n                        }\r\n                        {!loading && adList.length === 0 &&\r\n                            <div className=\"listWarning\">\r\n                                Não encontramos resultados.\r\n                            </div>\r\n                        }\r\n\r\n                        <div className='list' style={{ opacity: resultOpacity }}>\r\n                            {adList.map((i, k) =>\r\n                                <AdItem key={k} data={i} />\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className='pagination'>\r\n                            {pagination.map((i, k) =>\r\n                                <div onClick={() => setCurrentPage(i)}\r\n                                    className={i === currentPage ? 'pageItem active' : 'pageItem'}>\r\n                                    {i}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                    </div>\r\n                </PageArea>\r\n            </PageContainer>\r\n        </>\r\n    );\r\n}\r\nexport default Page;"]},"metadata":{},"sourceType":"module"}